I"8<h2 id="목차">목차</h2>
<ul>
  <li><a href="#first">먼저</a></li>
  <li><a href="#issue">문제 해결 과정</a></li>
  <li><a href="#solution">해결 방법</a></li>
  <li><a href="#ref">참조</a></li>
</ul>
<hr />

<p><br /></p>

<h2 id="먼저-">먼저 <a id="first"></a></h2>
<p>지난 번 <a href="https://myoiwritescode.github.io/linux/2019/06/30/ko-linux-disable-keyboard.html">[Ubuntu] 노트북 내장 키보드 비활성화 하기</a> 포스트를 작성하면서 내장 키보드를 키고 끄는 스크립트 파일을 
하나 만들었었다. 이 파일을 <code class="highlighter-rouge">/bin</code> 으로 옮기려고 하다가 실수로 아래와 같은 짓을 해버렸다:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo mv kbd-onoff.bat /bin/bash
</code></pre></div></div>

<p>(좀 오버해서) 카오스의 시작.</p>

<p><br /></p>
<h2 id="문제-해결-과정-">문제 해결 과정 <a id="issue"></a></h2>
<p>문제가 있다는 건 바로 알아차렸다. 터미널을 더 이상 사용할 수 없었기 때문.</p>

<p><img src="/assets/images/linux/restore-bash/error1.png" alt="에러 이미지 1" /></p>

<p>구글링을 해 본 결과 bash를 재설치 하기만 하면 된다고 하니 그리 해봤다. 하지만 터미널을 사용할 수가
없어 처음으로 터미널에 커스텀 커맨드 기능을 사용해봤다. 터미널 실행 시 쉘이 아닌 내가 입력한 
명령어가 실행 되는 것이다.</p>

<p><img src="/assets/images/linux/restore-bash/custom-command.png" alt="커스텀 커맨드 이미지 1" /></p>

<p>뭔가 설치하는 것 같더니 오류가 뜨면서 실패했다. 자세히 보면 맨 처음 사진에 나오는 에러와 같다.</p>

<p><img src="/assets/images/linux/restore-bash/error2.png" alt="에러 이미지 2" /></p>

<p><br /></p>
<h2 id="해결-방법-">해결 방법 <a id="solution"></a></h2>
<p>검색해서 알게 된 사실시지만 대부분의 시스템의 <code class="highlighter-rouge">/bin/bash</code>는 사실 <code class="highlighter-rouge">/bin/sh</code>의 심볼릭 링크라고 한다.
그러면 <code class="highlighter-rouge">sh</code>를 이용해서 <code class="highlighter-rouge">bash</code>의 링크를 고치면 해결이 되지 않을까해서 아래와 같이 해봤다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rm -rf /bin/bash
ln -s /bin/sh /bin/bash
apt-get install --reinstall bash
</code></pre></div></div>

<p>현재 망가진 <code class="highlighter-rouge">/bin/bash</code>를 지우고, <code class="highlighter-rouge">/bin/sh</code>의 심볼릭 링크를 <code class="highlighter-rouge">/bin/bash</code>로 다시 만든 다음 bash를 재설치 했다.</p>

<p><img src="/assets/images/linux/restore-bash/solution.png" alt="해결 이미지" /></p>

<p>짜잔! bash가 돌아왔다.</p>

<p><br /></p>
<h2 id="참조-">참조 <a id="ref"></a></h2>
<ul>
  <li><a href="https://serverfault.com/questions/451528/how-to-recover-from-a-deleted-bin-bash">삭제된 /bin/bash 복구하는 법?</a></li>
</ul>
:ET