I"=<h2 id="目次">目次</h2>
<ul>
  <li><a href="#first">前振り</a></li>
  <li><a href="#issue">問題解決過程</a></li>
  <li><a href="#solution">解決方法 </a></li>
  <li><a href="#ref">参照</a></li>
</ul>
<hr />

<p><br /></p>

<h2 id="前振り-">前振り <a id="first"></a></h2>
<p>この前に「<a href="https://myoiwritescode.github.io/linux/2019/06/30/ja-linux-disable-keyboard.html">Ubuntu・内蔵キーボード非活性化する方法</a>」の記事を作成する時、内蔵キーボードをOn/Offするスクリプトファイル(<code class="highlighter-rouge">kbd-onoff.bat</code>)を一つ作った。このファイルを <code class="highlighter-rouge">/bin</code>に 移るのを、間違えてバカなことをやってしまった：</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo mv kbd-onoff.bat /bin/bash
</code></pre></div></div>

<p>おっと、これはちょっとやばい。</p>

<p><br /></p>
<h2 id="問題解決過程-">問題解決過程 <a id="issue"></a></h2>
<p>エラーのためターミナルをもう使わなかったので、問題があるのはすぐ気づいた。</p>

<p><img src="/assets/images/linux/restore-bash/error1.png" alt="エラーのイメジ　１" /></p>

<p>ググってみた結果bashを再インストールしたらできそうなので、そうしてみた。ただターミナルを使わないのでshellを開いた時、僕のコマンドが実行するようにカスタム・コマンド機能を使った。</p>

<p><img src="/assets/images/linux/restore-bash/custom-command.png" alt="커스텀 커맨드 イメジ　２" /></p>

<p>なんかできそうだったけど、エラーが起きて失敗した。結果を詳しく見たら最初の写真のエラーと同じだ。</p>

<p><img src="/assets/images/linux/restore-bash/error2.png" alt="エラーのイメジ　２" /></p>

<p><br /></p>
<h2 id="解決方法-">解決方法 <a id="solution"></a></h2>
<p>検索して知った事実はほとんどのシステムの<code class="highlighter-rouge">/bin/bash</code>は<code class="highlighter-rouge">/bin/sh</code>のシンボリックリンクであるだけで、<code class="highlighter-rouge">/bin/bash</code>のリンクを直したら解決できると思ってこうしてみた。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rm -rf /bin/bash
ln -s /bin/sh /bin/bash
apt-get install --reinstall bash
</code></pre></div></div>

<p>壊れた<code class="highlighter-rouge">/bin/bash</code>を消して、新しい<code class="highlighter-rouge">/bin/sh</code>のリンクを<code class="highlighter-rouge">/bin/bash</code>の名で作って、bashを再インストールした。</p>

<p><img src="/assets/images/linux/restore-bash/solution.png" alt="解決イメジ" /></p>

<p>ワーイ！bashが戻ってきた（笑）。</p>

<p><br /></p>
<h2 id="参照-">参照 <a id="ref"></a></h2>
<ul>
  <li><a href="https://serverfault.com/questions/451528/how-to-recover-from-a-deleted-bin-bash">/bin/bash復旧する方法？</a></li>
</ul>
:ET